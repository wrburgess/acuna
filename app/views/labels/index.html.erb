<%= render "shared/admin/view_div_wrapper", obj: @instance do %>
  <div class="row header">
    <%= component "header_for_index", instance: @instance, new_button: true, export_xlsx_button: true %>
  </div>
  <div class="row main">
    <div class="col-9">
      <div class="row">
        <table class="table table-striped table-hover table-sm">
          <thead>
            <tr>
              <th><%= sort_link(@q, :id, "ID") %></th>
              <th><%= sort_link(@q, :name, "Name", default_order: :asc) %></th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody>
            <% @instances.each do |instance| %>
              <tr>
                <th scope="row"><%= instance.id %></th>
                <td><%= instance.name %></td>
                <td>
                  <%= component "action_button", operation: :show, instance: instance, button_classes: "me-3", icon_classes: :none %>
                  <%= component "action_button", operation: :edit, instance: instance, button_classes: :none, icon_classes: :none %>
                </td>
              </tr>
            <% end %>
          </tbody>
        </table>
      </div>
      <div class="row pager">
        <%= component "index_pager", pagy: @pagy, instance: @instance %>
      </div>
    </div>
    <div class="col-3">
      <div class="card">
        <div class="card-header">
          Filters
        </div>
        <div class="card-body">
          <%= search_form_for @q do |f| %>
            <div class="form-floating mb-3">
              <input type="text" class="form-control" id="id_eq" name="q[id_eq]" placeholder="id_eq" value="<%= params.dig(:q, :id_eq) %>">
              <label for="q[id_eq]" class="form-label">ID</label>
            </div>
            <div class="form-floating mb-3">
              <input type="text" class="form-control" id="name_cont" name="q[name_cont]" placeholder="name_cont" value="<%= params.dig(:q, :name_cont) %>">
              <label for="q[name_cont]" class="form-label">Name contains</label>
            </div>
            <div class="form-check form-switch mb-3">
              <label class="form-check-label" for="active">Archived?</label>
              <%= check_box_tag("q[archived_at_not_null]", 1, (params.dig(:q, :archived_at_not_null) == "1"), class: "form-check-input") %>
            </div>
            <button class="btn btn-secondary me-3">
              <i class="bi bi-funnel"></i>
              Filter
            </button>
          <% end %>
        </div>
      </div>
    </div>
  </div>
<% end %>
